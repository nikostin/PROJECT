# README

## LSH και Hypercube Search για το MNIST dataset

Για ην πρώτη εργασία υλοποιήσαμε τον αλγόριθμο LSH και την τυχαία προβολή σε υπερκύβο για διανύσματα στον d-διάστατο χώρο με βάση την ευκλείδεια μετρική (L2). Το πρόγραμμα επιτρέπει στους χρήστες να βρίσκουν τους πλησιέστερους γείτονες ενός δεδομένου διανύσματος χρησιμοποιώντας αυτούς τους αλγορίθμους.

## GNNs (Graph Nearest Neighbors Search) και MRNG (Monotonic Relative Neighborhood Graph)

Για την δεύτερη εργασία υλοποιήσαμε τους αλγορίθμους GNNS και MRNG για την αναζήτηση πλησιέστερων γειτόνων στο MNIST dataset.

#### Δομή φακέλων: 

```
.
|-- main.c
|-- partA.c
|-- partB.c
|-- assignment2.c
|-- cluster.conf
|-- Makefile
|-- parse
|   |-- parseMNIST.c
|   |-- parseMNIST.h
|   |-- convertMNIST.c
|   `-- convertMNIST.h
|-- lists
|   |-- list.c
|   `-- list.h
|-- vectors
|   |-- vector.c
|   `-- vector.h
|-- search
|   |-- lsh
|   |   |-- lsh.c
|   |   `-- lsh.h
|   |-- hypercubes
|   |   |-- hypercube.c
|   |   `-- hypercube.h
|   |-- hashings
|   |   |-- hashing.c
|   |   `-- hashing.h
|   |-- distancemetrics
|   |   |-- euclidean.c
|   |   `-- euclidean.h
|   `-- bruteforce
|   |   |-- exhaustive.c
|   |   `-- exhaustive.h
|	`-- gnns
|   |   |-- gnns.c
|   |   `-- gnns.h
|	`-- mrng
|   |   |-- mrng.c
|   |   `-- mrng.h
|-- clustering
|   |-- cluster.c
|   |-- cluster.h (if you have this header file)
|   |-- initialization
|   |   |-- kmeanspp.c
|   |   `-- kmeanspp.h
|   |-- update
|   |   |-- macqueen.c
|   |   `-- macqueen.h
|   |-- assignment
|   |   |-- lloyd.c
|   |   |-- lloyd.h
|   |   |-- lsh_reverse_search.c
|   |   |-- lsh_reverse_search.h
|   |   |-- hypercube_reverse_search.c
|   |   `-- hypercube_reverse_search.h
|   `-- evaluation
|       |-- silhouette.c
|       `-- silhouette.h


### Συναρτήσεις και Περιεχόμενα αρχείων



#### Makefile
Αυτό το Makefile ορίζει τον τρόπο κατασκευής και καθαρισμού της εργασίας.

1.**Μεταβλητές**: 
   - `CC`: Μεταγλωττιστής που θα χρησιμοποιηθεί (gcc).
   - `CFLAGS`: Flags μεταγλωττιστή (`-Wall` για προειδοποιήσεις).
   - `OBJS`: Αρχεία αντικειμένων που απαιτούνται για το τελικό εκτελέσιμο αρχείο.
2.**all Target**: Προεπιλεγμένος στόχος που κατασκευάζει το εκτελέσιμο αρχείο `main` και δημιουργεί συμβολικούς συνδέσμους με τα ονόματα `lsh` και `cube` προς αυτό.
3.**main Target**: Μεταγλωττίζει και συνδέει τα αρχεία αντικειμένων για την παραγωγή του εκτελέσιμου αρχείου `main`.
4.**Individual Object Targets**: Κανόνες για τη μεταγλώττιση κάθε αρχείου source στο αντίστοιχο αρχείο αντικειμένου.
5.**clean Target**: Αφαιρεί το κύριο εκτελέσιμο αρχείο, τους συμβολικούς συνδέσμους και όλα τα αρχεία αντικειμένων.


#### main.c

Το αρχείο `main.c` λειτουργεί ως διακόπτης (dispatcher) που επιλέγει μεταξύ των δύο τμημάτων (Α και Β) της εφαρμογής, ανάλογα με την εντολή που έχει δοθεί στη γραμμή εντολών. Αναλυτικά, τα βασικά στοιχεία του αρχείου περιλαμβάνουν:

1. **Βιβλιοθήκες**: Χρησιμοποιεί τη βιβλιοθήκη `<stdio.h>` για είσοδο/έξοδο και τη `<string.h>` για τη διαχείριση συμβολοσειρών.
2. **Δηλώσεις συναρτήσεων**: Περιλαμβάνει δηλώσεις για τις συναρτήσεις `partA_main` και `partB_main`, οι οποίες είναι οι κύριες συναρτήσεις για τα δύο μέρη της εφαρμογής.
3. **Κύρια συνάρτηση `main`**: Ελέγχει το πρώτο όρισμα της γραμμής εντολών (`argv[0]`) για να προσδιορίσει ποιο μέρος της εφαρμογής θα εκτελεστεί.
   - Αν το `argv[0]` είναι "./lsh" ή "./cube", καλεί τη συνάρτηση `partA_main`, που σχετίζεται με τον χειρισμό του συνόλου δεδομένων MNIST και τις μεθόδους αναζήτησης LSH και Hypercube.
   - Αν το `argv[0]` είναι "./cluster", καλεί τη συνάρτηση `partB_main`, που σχετίζεται με το δεύτερο μέρος της εφαρμογής.
   - Σε περίπτωση που το `argv[0]` δεν αντιστοιχεί σε κάποιο από τα αναμενόμενα, το πρόγραμμα εκτυπώνει ένα μήνυμα λάθους και τερματίζεται με κωδικό εξόδου 1.

### Εργασία 1 - Ερώτημα Α:

#### partA.c

Το αρχείο `partA.c` αποτελεί το κύριο σημείο εισόδου για το πρώτο μέρος του προγράμματος, το οποίο επεξεργάζεται το σύνολο δεδομένων MNIST και υλοποιεί δύο μεθόδους αναζήτησης: τον αλγόριθμο LSH (Locality-Sensitive Hashing) και τον Hypercube.

1. **Βιβλιοθήκες και επικεφαλίδες**: Συμπεριλαμβάνει βασικές βιβλιοθήκες για είσοδο/έξοδο, διαχείριση συμβολοσειρών, χρονισμό και πρόσβαση σε λειτουργικό σύστημα. Επιπλέον, εισάγει εξειδικευμένα αρχεία επικεφαλίδων για την ανάλυση και μετατροπή δεδομένων MNIST, διαχείριση λιστών, και τις δύο μεθόδους αναζήτησης.
2. **Συνάρτηση `getFilePath`**: Αναλαμβάνει την επεξεργασία της διαδρομής ενός αρχείου που δίνει ο χρήστης, ελέγχει την επέκταση του αρχείου και εφόσον είναι αρχείο MNIST (με επέκταση ".idx3-ubyte"), καλεί τις κατάλληλες συναρτήσεις για τη μετατροπή του σε μορφή `.dat`.
3. **Συνάρτηση `promptDatasetPath`**: Ζητά από τον χρήστη τη διαδρομή για το σύνολο δεδομένων, είτε αυτή είναι ήδη σε μορφή `.dat` ή σε μορφή MNIST.
4. **Συνάρτηση `buildSearchSpace`**: Αυτή η συνάρτηση δημιουργεί τον χώρο αναζήτησης από τα διανύσματα του συνόλου δεδομένων, είτε για LSH είτε για Hypercube. Παρέχει επίσης ένδειξη προόδου για την εισαγωγή δεδομένων.
5. **Συνάρτηση `promptQueryPath` και `promptOutputPath`**: Αυτές οι συναρτήσεις ζητούν από τον χρήστη τις διαδρομές για το αρχείο ερωτημάτων και το αρχείο εξόδου αντίστοιχα.
6. **Συνάρτηση `processQueries`**: Διαχειρίζεται την επεξεργασία των ερωτημάτων, εκτελεί τις αναζητήσεις μέσω LSH ή Hypercube, και καταγράφει τα αποτελέσματα στο αρχείο εξόδου. Επίσης, πραγματοποιεί και την εξαντλητική αναζήτηση για σύγκριση.
7. **Κύρια συνάρτηση `partA_main`**: Εκτελεί την ανάλυση των ορισμάτων της γραμμής εντολών, αρχικοποιεί τις δομές αναζήτησης (LSH ή Hypercube), διαβάζει τα αρχεία εισόδου και ερωτημάτων, και ξεκινά την επεξεργα


#### /parse/parseMNIST.h
Αυτό είναι το αρχείο κεφαλίδας για την ενότητα parseMNIST.c.

1.**Δομή επικεφαλίδας**: Ορίζει τη δομή για την αποθήκευση των πληροφοριών κεφαλίδας ενός αρχείου MNIST.
2.**Δηλώσεις συναρτήσεων**: Δηλώνει τις συναρτήσεις που υλοποιούνται στο parseMNIST.c, όπως η ανάγνωση της επικεφαλίδας, η αρχικοποίηση ενός διανύσματος από μια εικόνα, η ανάγνωση εικόνων και η εκκαθάριση του buffer εισόδου.


#### /parse/parseMNIST.c
Αυτό το αρχείο περιέχει συναρτήσεις για την ανάλυση του συνόλου δεδομένων MNIST.

1.**Βιβλιοθήκες και επικεφαλίδες**: Περιλαμβάνει τις απαραίτητες βιβλιοθήκες και το αρχείο επικεφαλίδων για αυτήν την ενότητα.
2.**Συνάρτηση readHeader**: Διαβάζει την επικεφαλίδα ενός αρχείου MNIST, η οποία περιέχει μεταδεδομένα όπως ο μαγικός αριθμός, ο αριθμός των εικόνων, οι γραμμές και οι στήλες. Στη συνέχεια, μετατρέπει αυτές τις τιμές από Big Endian σε Little Endian μορφή.
3.**Συνάρτηση initVectorFromImage**: Δεδομένου ενός πίνακα εικονοστοιχείων 28x28, αρχικοποιεί ένα διάνυσμα με αυτές τις τιμές εικονοστοιχείων.
4.**Συνάρτηση readImages**: Διαβάζει έναν καθορισμένο αριθμό εικόνων από το σύνολο δεδομένων MNIST και επιστρέφει έναν κατάλογο διανυσμάτων που αντιπροσωπεύουν αυτές τις εικόνες.
5.**Συνάρτηση readInputDat**: Προσπαθεί να αποκτήσει πρόσβαση σε μια δεδομένη διαδρομή αρχείου, διαβάζει την επικεφαλίδα του αρχείου και στη συνέχεια διαβάζει τα δεδομένα των εικόνων. Επιστρέφει έναν κατάλογο διανυσμάτων που αναπαριστούν τις εικόνες.
6.**Συνάρτηση clearInputBuffer**: Καθαρίζει τυχόν παραμένοντες χαρακτήρες από το buffer εισόδου.

#### /parse/convertMNIST.h
Αυτό είναι το αρχείο επικεφαλίδων για την ενότητα convertMNIST.c.

1.**Δηλώσεις συναρτήσεων**: Δηλώνει τις συναρτήσεις που υλοποιούνται στο convertMNIST.c, όπως η μετατροπή της μορφής αρχείου MNIST, η ανάγνωση ενός ακέραιου αριθμού και η δημιουργία ενός συνόλου δεδομένων ερωτήματος από ένα αρχείο .idx3-ubyte.


#### /parse/convertMNIST.c
Αυτό το αρχείο περιέχει συναρτήσεις για τη μετατροπή του συνόλου δεδομένων MNIST σε διαφορετική μορφή.

1.**Βιβλιοθήκες και επικεφαλίδες**: Περιλαμβάνει τις τυπικές βιβλιοθήκες και το αρχείο επικεφαλίδων για αυτήν την ενότητα.
2.**Συνάρτηση readInt**: Διαβάζει έναν ακέραιο από ένα αρχείο και τον μετατρέπει από Big Endian σε Little Endian μορφή.
3.**Συνάρτηση convertMNIST**: Δεδομένης της διαδρομής προς ένα αρχείο MNIST, ανοίγει το αρχείο, διαβάζει το περιεχόμενό του και το γράφει σε διαφορετική μορφή σε ένα αρχείο εξόδου. Το αρχείο εξόδου ονομάζεται 'input.dat' και τοποθετείται στον ίδιο κατάλογο με το αρχείο εισόδου.
4.**Συνάρτηση createQueryDatFromIDX**: Δεδομένης της διαδρομής ενός αρχείου .idx3-ubyte (μορφή που χρησιμοποιείται από το σύνολο δεδομένων MNIST), επιλέγει έναν τυχαίο αριθμό εικόνων από τις 10 πρώτες εικόνες του αρχείου, διαβάζει τα δεδομένα τους και τα γράφει σε ένα αρχείο εξόδου με όνομα 'query.dat'. Αυτή η συνάρτηση χρησιμοποιείται πιθανότατα για τη δημιουργία ενός μικρότερου συνόλου δεδομένων για σκοπούς δοκιμών ή ερωτημάτων.


#### /vectors/vector.h
Αυτό είναι το αρχείο επικεφαλίδας για την ενότητα Vector.

1.**Δομή διανύσματος**: Αντιπροσωπεύει ένα διάνυσμα 784 διαστάσεων και έχει ένα όνομα/ID.
2.**Δηλώσεις συναρτήσεων**: Δηλώνει τη συνάρτηση για την αρχικοποίηση ενός διανύσματος.


#### /vectors/vector.c
Αυτό το αρχείο περιέχει συναρτήσεις που σχετίζονται με τη δομή Vector.

1.**Βιβλιοθήκες και επικεφαλίδες**: Περιλαμβάνονται οι τυπικές βιβλιοθήκες και το αρχείο κεφαλίδας για αυτή την ενότητα.
2.**Συνάρτηση initVector**: Αρχικοποιεί ένα διάνυσμα με δεδομένες συντεταγμένες και όνομα.


#### /lists/list.h
Αυτό το αρχείο κεφαλίδας δηλώνει τη δομή και τις συναρτήσεις για τη λίστα.

1.**Δομή κόμβου**: Καθορίζει τον κόμβο για τη λίστα μονής σύνδεσης. Κάθε κόμβος περιέχει ένα διάνυσμα και έναν δείκτη στον επόμενο κόμβο.
2.**Δομή λίστας**: Περιέχει δείκτες στους κόμβους κεφαλής και ουράς και έναν ακέραιο για το μέγεθος.
3.**Δηλώσεις συναρτήσεων**: Δηλώνει συναρτήσεις για αρχικοποίηση, εισαγωγή, ανάκτηση, απελευθέρωση, λήψη του μήκους, προσθήκη και πρόσβαση σε συγκεκριμένο κόμβο της λίστας.


#### /lists/list.c
Αυτό το αρχείο ορίζει τις συναρτήσεις για μια λίστα μονής σύνδεσης που αποθηκεύει διανύσματα.

1.**Βιβλιοθήκες και επικεφαλίδες**: Περιλαμβάνονται οι τυπικές βιβλιοθήκες για την κατανομή μνήμης και την είσοδο/έξοδο. Εισάγονται επίσης στα πλαίσια της εργασίας ειδικές επικεφαλίδες για τα διανύσματα και την ίδια τη λίστα.
2.**Συνάρτηση initList**: Αποδίδει μνήμη για μια νέα λίστα και αρχικοποιεί τα χαρακτηριστικά της. Εάν η κατανομή μνήμης αποτύχει, τερματίζει το πρόγραμμα με ένα σφάλμα.
3.**Συνάρτηση insertToList**: Εισάγει ένα δεδομένο διάνυσμα στο τέλος της λίστας.
4.**Συνάρτηση getVectorAt**: Επιστρέφει έναν δείκτη σε ένα διάνυσμα σε συγκεκριμένο δείκτη στη λίστα.
5.**Συνάρτηση freeList**: Απελευθερώνει τη μνήμη που καταλαμβάνουν οι κόμβοι της λίστας και στη συνέχεια την ίδια τη λίστα.
6.**Συνάρτηση lengthOfList**: Επιστρέφει τον αριθμό των κόμβων της λίστας.
7.**Συνάρτηση appendList**: Προσθέτει όλους τους κόμβους από μια λίστα σε μια άλλη. Μετά τη συνάρτηση, η προσαρτημένη λίστα αδειάζει.
8.**Συνάρτηση getNthNode**: Επιστρέφει τον κόμβο σε μια συγκεκριμένη θέση στη λίστα.


#### /search/lsh/lsh.h
Αυτό είναι το αρχείο επικεφαλίδων για τον αλγόριθμο Locality-Sensitive Hashing (LSH).

1.**Δομή LSH**: Περιέχει παραμέτρους και έναν πίνακα πινάκων hashing.
2.**Δηλώσεις Συναρτήσεων**: Δηλώνει συναρτήσεις για την αρχικοποίηση του LSH, την εισαγωγή ενός διανύσματος, την αναζήτηση και την απελευθέρωση της δομής LSH.


#### /search/lsh/lsh.c
Αυτό το αρχείο υλοποιεί τις συναρτήσεις που αφορούν τον αλγόριθμο Locality-Sensitive Hashing (LSH).

1. **Βιβλιοθήκες και επικεφαλίδες**: Εισάγονται οι απαραίτητες βιβλιοθήκες και επικεφαλίδες που αφορούν το LSH.
2. **Συνάρτηση initLSH**: Δέσμευση και αρχικοποίηση των δομών δεδομένων για το LSH.
3. **Συνάρτηση insertIntoLSH (g function)**: Εισάγει ένα διάνυσμα στους πίνακες hash του LSH, υλοποιώντας τη συνάρτηση g με το συνδυασμό τιμών από k διαφορετικές συναρτήσεις h.
4. **Συνάρτηση queryLSH (g function)**: Αναζητά διανύσματα παρόμοια με ένα δεδομένο διάνυσμα ερωτήματος με χρήση του LSH. Η συνάρτηση υλοποιεί τη συνάρτηση g συνδυάζοντας τις εξόδους από k διαφορετικές συναρτήσεις h.
5. **Συνάρτηση freeLSH**: Απελευθερώνει τη μνήμη που σχετίζεται με τις δομές του LSH.


#### /search/hypercubes/hypercube.h
Αυτό είναι το αρχείο επικεφαλίδων για την ενότητα Hypercube.

1.**Δομή του Υπερκύβου**: Περιέχει παραμέτρους, έναν πίνακα συναρτήσεων hashing και buckets.
2.**Δηλώσεις συναρτήσεων**: Δηλώνει συναρτήσεις για την αρχικοποίηση, την εισαγωγή, την αναζήτηση και την απελευθέρωση του υπερκύβου.


#### /search/hypercube/hypercube.c
Αυτό το αρχείο υλοποιεί τις συναρτήσεις που αφορούν τον αλγόριθμο Hypercube.

1. **Βιβλιοθήκες και επικεφαλίδες**: Εισάγονται οι απαραίτητες βιβλιοθήκες και επικεφαλίδες για το Hypercube.
2. **Συνάρτηση initHypercube Συνάρτηση**: Δέσμευση και αρχικοποίηση των δομών δεδομένων για το Hypercube.
3. **Συνάρτηση insertIntoHypercube Συνάρτηση (g function)**: Εισάγει ένα διάνυσμα στο Hypercube, καθορίζοντας τον δείκτη του bucket με τον συνδυασμό k διαφορετικών συναρτήσεων h, που αντιπροσωπεύει τη συνάρτηση g.
4. **Συνάρτηση queryHypercube Συνάρτηση (g function)**: Αναζητά διανύσματα παρόμοια με ένα δεδομένο διάνυσμα ερωτήματος στο Hypercube. Η συνάρτηση συνδυάζει k διαφορετικές συναρτήσεις h για να καθορίσει τον δείκτη του bucket, αντιπροσωπεύοντας τη συνάρτηση g.
5. **Συνάρτηση freeHypercube**: Απελευθερώνει τη μνήμη που σχετίζεται με τις δομές του Hypercube.


#### /search/hashing/hashing.h
Αυτό είναι το αρχείο κεφαλίδας για την ενότητα Hashing.

1.**Δομή της συνάρτησης HashFunction**: Αναπαριστά μια συνάρτηση hashing, που περιέχει ένα τυχαίο διάνυσμα και μια τυχαία μετατόπιση.
2.**Δομή HashTable**: Περιέχει παραμέτρους, έναν πίνακα συναρτήσεων hashing και buckets.
3.**Δηλώσεις συναρτήσεων**: Δηλώνει συναρτήσεις για την αρχικοποίηση συναρτήσεων hashing και πινάκων, το hashing ενός διανύσματος, την εισαγωγή σε ένα hash table, την αναζήτηση ενός hash table και την απελευθέρωση ενός hash table.

#### /search/hashing/hashing.c
Αυτό το αρχείο υλοποιεί συναρτήσεις που σχετίζονται με το hashing και τους πίνακες hashing.

1. **Βιβλιοθήκες και επικεφαλίδες**: Εισάγονται οι τυπικές βιβλιοθήκες και το αρχείο επικεφαλίδων για αυτήν την ενότητα.
2. **Συνάρτηση initHashFunction Συνάρτηση (h function)**: Εκχωρεί και αρχικοποιεί μια συνάρτηση hashing με τυχαίες τιμές.
3. **Συνάρτηση freeHashFunction Συνάρτηση**: Απελευθερώνει τη μνήμη που σχετίζεται με μια συνάρτηση hashing.
4. **Συνάρτηση hashVector Συνάρτηση (g function)**: Υπολογίζει την τιμή hashing για ένα διάνυσμα χρησιμοποιώντας μια δεδομένη συνάρτηση hashing.
5. **Συνάρτηση initHashTable Συνάρτηση**: Εκχωρεί και αρχικοποιεί ένα hash table.
6. **Συνάρτηση insertIntoHashTable Συνάρτηση**: Εισάγει ένα διάνυσμα στo hash table προσδιορίζοντας τον δείκτη του bucket του χρησιμοποιώντας συναρτήσεις hashing.
7. **Συνάρτηση queryHashTable Συνάρτηση**: Αναζητά στo hash table διανύσματα παρόμοια με ένα δεδομένο query vector. Εάν το bucket περιέχει περισσότερα διανύσματα από έναν καθορισμένο αριθμό \( N \), αποκόπτει τον κατάλογο.
8. **Συνάρτηση freeHashTable**: Απελευθερώνει τη μνήμη που σχετίζεται με τo hash table.



#### /search/distancemetrics/euclidean.h
Αυτό είναι το αρχείο κεφαλίδας για τον υπολογισμό της ευκλείδειας απόστασης.

1.**Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει το αρχείο επικεφαλίδων για τα διανύσματα.
2.**Δηλώσεις συναρτήσεων**: Δηλώνει τη συνάρτηση για τον υπολογισμό της ευκλείδειας απόστασης μεταξύ δύο διανυσμάτων.

#### /search/distancemetrics/euclidean.c
Αυτό το αρχείο παρέχει τη λειτουργικότητα για τον υπολογισμό της ευκλείδειας απόστασης μεταξύ δύο διανυσμάτων.

1.**Βιβλιοθήκες και επικεφαλίδες**: Εισάγονται η τυπική μαθηματική βιβλιοθήκη και η επικεφαλίδα Euclidean.
2.**Συνάρτηση euclideanDistance**: Υπολογίζει την ευκλείδεια απόσταση μεταξύ δύο διανυσμάτων δεδομένης διάστασης. Διατρέχει επαναληπτικά κάθε διάσταση, υπολογίζει την τετραγωνική διαφορά για κάθε συντεταγμένη, τις αθροίζει και τέλος επιστρέφει την τετραγωνική ρίζα του αθροίσματος.
 υπολογισμό της ευκλείδειας απόστασης μεταξύ δύο διανυσμάτων.

#### /search/bruteforce/exhaustive.h
Αυτό είναι το αρχείο κεφαλίδας για τη λειτουργικότητα της εξαντλητικής αναζήτησης.

1.**Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει αρχεία επικεφαλίδων που σχετίζονται με τις λίστες και τα διανύσματα.
2.**Δηλώσεις συναρτήσεων**: Δηλώνει τη συνάρτηση για την εκτέλεση της εξαντλητικής αναζήτησης για την εύρεση του πλησιέστερου διανύσματος (ή διανυσμάτων) από μια λίστα.


#### /search/bruteforce/exhaustive.c
Αυτό το αρχείο υλοποιεί τη λειτουργικότητα εξαντλητικής αναζήτησης για την εύρεση του/των πλησιέστερου/ων διανύσματος/ων σε ένα δεδομένο query vector από μια λίστα διανυσμάτων.

1.**Βιβλιοθήκες και επικεφαλίδες**: Εισάγονται η τυπική μαθηματική βιβλιοθήκη, οι επικεφαλίδες που σχετίζονται με τον υπολογισμό της ευκλείδειας απόστασης και τα διανύσματα.
2.**Δομή του ζεύγους αποστάσεων**: Μια βοηθητική δομή για τη συσχέτιση ενός διανύσματος με την απόστασή του από το query vector.
3.**Συνάρτηση exhaustiveSearch**: Αναζητά σε έναν κατάλογο διανυσμάτων για να βρει τα πλησιέστερα \( N \) διανύσματα σε ένα δοσμένο query vector. Χρησιμοποιεί τη συνάρτηση `euclideanDistance` για τον υπολογισμό των αποστάσεων. Τα πλησιέστερα διανύσματα αποθηκεύονται σε έναν πίνακα δομών `DistancePair`. Μετά από επανάληψη ολόκληρου του καταλόγου, επιστρέφει το πλησιέστερο διάνυσμα. Εάν χρειάζονται όλα τα \( N \) πλησιέστερα διανύσματα, απαιτούνται τροποποιήσεις στον τύπο επιστροφής και στη λογική.


### Εργασία 1 - Ερώτημα Β:


### partB.c

Το αρχείο `partB.c` χρησιμοποιείται για τη διαχείριση του δεύτερου μέρους της εφαρμογής που αφορά τον αλγόριθμο συσταδοποίησης. Αναλυτικά, τα βασικά στοιχεία του αρχείου περιλαμβάνουν:

1. **Βιβλιοθήκες**: Εισάγονται διάφορες βιβλιοθήκες της γλώσσας C καθώς και δικές του εφαρμογής για διάφορες λειτουργίες.
2. **Ορισμοί (Defines)**: Ορίζονται οι σταθερές `MAX_ITERATIONS`, `WINDOW_SIZE`, `N_N`, και `RADIUS_R`. Εδώ έχουμε δώσει αυθαίρετα τιμές 100, 0.5, 1, 10000
3. **Δομές Δεδομένων**: Ορίζεται η δομή `Config` που περιέχει τις παραμέτρους ρύθμισης του αλγορίθμου.
4. **Δηλώσεις Συναρτήσεων**: Υπάρχουν δηλώσεις για διάφορες βοηθητικές συναρτήσεις όπως την `readConfigFile`, `assignVectorsToClusters`, `areCentroidsEqual`, `initializeCentroids` και `writeClustersToFile`.
5. **Συνάρτηση Ανάγνωσης Ρυθμίσεων**: Η συνάρτηση `readConfigFile` αναγνωρίζει και φορτώνει τις ρυθμίσεις από ένα αρχείο ρυθμίσεων σε μια δομή `Config`.
6. **Συναρτήσεις Συσταδοποίησης**: Οι συναρτήσεις `assignVectorsToClusters`, `areCentroidsEqual` και `initializeCentroids` υλοποιούν τα βασικά βήματα του αλγορίθμου k-means.
7. **Εγγραφή Συστάδων**: Η `writeClustersToFile` συνάρτηση αποθηκεύει τα αποτελέσματα της συσταδοποίησης σε ένα αρχείο εξόδου.

8. **Κύρια Συνάρτηση `partB_main`**: Είναι η κύρια συνάρτηση εκτέλεσης του δεύτερου μέρους της εφαρμογής. Περιλαμβάνει τη διαδικασία ανάγνωσης των ορισμάτων, φόρτωσης των δεδομένων, εκτέλεσης του αλγορίθμου συσταδοποίησης και αποθήκευσης των αποτελεσμάτων.



#### /clustering/cluster.h
Αυτό είναι το αρχείο κεφαλίδας για τη διαχείριση συστάδων (clusters).

1. **Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει το αρχείο επικεφαλίδων για τα διανύσματα και τις λίστες.
2. **Δηλώσεις συναρτήσεων και ορισμοί δομών**: Δηλώνει τις συναρτήσεις και τις δομές που χρησιμοποιούνται για τη δημιουργία και διαχείριση των clusters.

#### /clustering/cluster.c
Αυτό το αρχείο περιέχει τις υλοποιήσεις των συναρτήσεων για τη διαχείριση συστάδων (clusters).

1. **Εισαγωγή Εξαρτήσεων και Ορισμών**: Εισάγει τις απαραίτητες βιβλιοθήκες και το αρχείο header του cluster.
2. **Συνάρτηση initCluster**: Δημιουργεί και αρχικοποιεί ένα Cluster με ένα δεδομένο αρχικό κεντροειδές.
3. **Συνάρτηση freeCluster**: Απελευθερώνει τη μνήμη ενός Cluster, περιλαμβάνοντας τη λίστα μελών του.
4. **Συνάρτηση addVectorToCluster**: Προσθέτει ένα διάνυσμα σε ένα Cluster.
5. **Συνάρτηση findClusterByCentroid**: Εύρεση ενός Cluster με βάση το κεντροειδές του.
6. **Συνάρτηση areVectorsEqual**: Ελέγχει αν δύο διανύσματα είναι ίσα.
7. **Συνάρτηση insertClusterToList**: Εισάγει ένα Cluster σε μια λίστα, χρησιμοποιώντας το κεντροειδές ως διάνυσμα.


#### /clustering/initialization/kmeanspp.h
Αυτό είναι το αρχείο κεφαλίδας για την αρχικοποίηση K-Means++.

1. **Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει τα αρχεία επικεφαλίδων για τις λίστες, και τα διανύσματα
2. **Δηλώσεις συναρτήσεων**: Δηλώνει τη συνάρτηση για την αρχικοποίηση K-Means++.

#### /clustering/initialization/kmeanspp.c
Αυτό το αρχείο περιέχει την υλοποίηση της συνάρτησης για την αρχικοποίηση K-Means++.

1. **Εισαγωγή Εξαρτήσεων και Ορισμών**: Εισάγει τις απαραίτητες βιβλιοθήκες και το αρχείο header του K-Means++.
2. **Στατική Συνάρτηση squaredEuclideanDistance**: Επιστρέφει την τετραγωνική Ευκλείδεια απόσταση μεταξύ δύο διανυσμάτων.
3. **Συνάρτηση kmeansPlusPlusInitialization**: Υλοποιεί την αρχικοποίηση K-Means++, επιλέγοντας αρχικά κεντροειδή για συστάδες με βάση την απόσταση από υπάρχοντα δεδομένα.


#### /clustering/assignment/lloyd.h
Αυτό είναι το αρχείο κεφαλίδας για την ανάθεση δεδομένων σε συστάδες χρησιμοποιώντας τον αλγόριθμο Lloyd.

1. **Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει το αρχείο επικεφαλίδων για τις λίστες.
2. **Δηλώσεις συναρτήσεων και τύπων δεδομένων**: Δηλώνει τον τύπο δεδομένων `ClusteredNode` και τις συναρτήσεις για την εύρεση του πλησιέστερου κεντροειδούς και την ανάθεση δεδομένων με τη μέθοδο Lloyd.

#### /clustering/assignment/lloyd.c
Αυτό το αρχείο περιέχει την υλοποίηση της ανάθεσης δεδομένων σε συστάδες με τον αλγόριθμο Lloyd.

1. **Εισαγωγή Εξαρτήσεων και Ορισμών**: Εισάγει τις απαραίτητες βιβλιοθήκες και το αρχείο header του Lloyd.
2. **Βοηθητική Συνάρτηση findClosestCentroidForVector**: Εύρεση του πλησιέστερου κεντροειδούς για ένα δεδομένο διάνυσμα.
3. **Συνάρτηση assignWithLloyd**: Αναθέτει δεδομένα σε συστάδες χρησιμοποιώντας τον αλγόριθμο Lloyd.

#### /clustering/assignment/ish_reverse_search.h
Αυτό είναι το αρχείο κεφαλίδας για την ανάθεση δεδομένων σε συστάδες με αντίστροφη αναζήτηση LSH.

1. **Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει τα αρχεία επικεφαλίδων για τις λίστες, το LSH, και τις συστάδες.
2. **Δηλώσεις συναρτήσεων**: Δηλώνει τη συνάρτηση για την ανάθεση δεδομένων με αντίστροφη αναζήτηση LSH.

#### /clustering/assignment/ish_reverse_search.c
Αυτό το αρχείο περιέχει την υλοποίηση της ανάθεσης δεδομένων σε συστάδες με αντίστροφη αναζήτηση LSH.

1. **Εισαγωγή Εξαρτήσεων και Ορισμών**: Εισάγει τις απαραίτητες βιβλιοθήκες και τα αρχεία header του LSH και των συστάδων.
2. **Συνάρτηση assignWithLSHReverseSearch**: Αναθέτει διανύσματα δεδομένων σε συστάδες χρησιμοποιώντας αντίστροφη αναζήτηση LSH.

#### /clustering/assignment/hypercube_reverse_search.h
Αυτό είναι το αρχείο κεφαλίδας για την ανάθεση δεδομένων σε συστάδες με αντίστροφη αναζήτηση Hypercube.

1. **Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει τα αρχεία επικεφαλίδων για τις λίστες, το Hypercube, και τις συστάδες.
2. **Δηλώσεις συναρτήσεων**: Δηλώνει τη συνάρτηση για την ανάθεση δεδομένων με αντίστροφη αναζήτηση Hypercube.

#### /clustering/assignment/hypercube_reverse_search.c
Αυτό το αρχείο περιέχει την υλοποίηση της ανάθεσης δεδομένων σε συστάδες με αντίστροφη αναζήτηση Hypercube.

1. **Εισαγωγή Εξαρτήσεων και Ορισμών**: Εισάγει τις απαραίτητες βιβλιοθήκες και τα αρχεία header του Hypercube και των συστάδων.
2. **Συνάρτηση assignWithHypercubeReverseSearch**: Αναθέτει διανύσματα δεδομένων σε συστάδες χρησιμοποιώντας αντίστροφη αναζήτηση Hypercube.

#### /clustering/update/macqueen.h
Αυτό είναι το αρχείο κεφαλίδας για την ενημέρωση των κεντροειδών με τον αλγόριθμο MacQueen.

1. **Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει τα αρχεία επικεφαλίδων για τις λίστες και τα διανύσματα.
2. **Δηλώσεις συναρτήσεων και τύπων δεδομένων**: Δηλώνει τον τύπο δεδομένων `ClusterNode` και τη συνάρτηση για την ενημέρωση των κεντροειδών με τη μέθοδο MacQueen.

#### /clustering/update/macqueen.c
Αυτό το αρχείο περιέχει την υλοποίηση του αλγορίθμου MacQueen για την ενημέρωση των κεντροειδών.

1. **Εισαγωγή Εξαρτήσεων και Ορισμών**: Εισάγει τις απαραίτητες βιβλιοθήκες και το αρχείο header του MacQueen.
2. **Βοηθητική Συνάρτηση getDistance**: Υπολογίζει την απόσταση μεταξύ δύο διανυσμάτων χρησιμοποιώντας την ευκλείδεια απόσταση.
3. **Συνάρτηση macQueenUpdate**: Ενημερώνει τα κεντροειδή με βάση τα δεδομένα και τα τρέχοντα κεντροειδή, χρησιμοποιώντας τη μέθοδο MacQueen.

#### /clustering/evaluation/silhouette.h
Αυτό είναι το αρχείο κεφαλίδας για την υπολογισμό του δείκτη Silhouette για αξιολόγηση των συστάδων.

1. **Βιβλιοθήκες και κεφαλίδες**: Περιλαμβάνει τα απαραίτητα αρχεία κεφαλίδων για λίστες και τη μέθοδο Lloyd.
2. **Δομή Cache και Δηλώσεις Συναρτήσεων**: Δηλώνει μια δομή Cache για την αποθήκευση προηγουμένως υπολογισμένων τιμών και παρέχει δηλώσεις για τις συναρτήσεις υπολογισμού του δείκτη Silhouette.

#### /clustering/evaluation/silhouette.c
Αυτό το αρχείο περιέχει την υλοποίηση του δείκτη Silhouette για την αξιολόγηση της ποιότητας των συστάδων.

1. **Εισαγωγή Εξαρτήσεων**: Εισάγει τις απαραίτητες βιβλιοθήκες και το αρχείο κεφαλίδας.
2. **Παραλληλοποίηση και Ορισμός Προόδου**: Χρησιμοποιεί το OpenMP για παραλληλοποίηση και περιλαμβάνει μια συνάρτηση για την εμφάνιση της προόδου του υπολογισμού.
3. **Υπολογισμός του Δείκτη Silhouette**: Υπολογίζει τον δείκτη Silhouette για κάθε συστάδα και το συνολικό δείκτη για όλα τα δεδομένα. **Για βελτιστοποίηση της απόδοσης, αναλύει μόνο τα πρώτα 100 δεδομένα, καθώς ο πλήρης υπολογισμός μπορεί να είναι πολύ αργός. Για να αλλάξει αλλάζουμε το testLimit =100 σε testLimit =totalNodes**


### Εργασία 2 - Ερώτημα Α:

#### /search/gnns/gnns.h
Αρχείο κεφαλίδας για την ενότητα GNNs.

1. **Δομές**: `GNNS` περιγράφει τη δομή των GNNs, περιλαμβάνοντας τον αριθμό των γειτόνων (k), τα βήματα (T), τις επανεκκινήσεις (randomRestarts), τις επεκτάσεις (E) και τον ακτίνα (R).
2. **Συναρτήσεις**: 
   - `initGNNS`: Αρχικοποιεί τους GNNs, δημιουργώντας ένα k-NN γράφο.
   - `queryGNNS`: Εκτελεί αναζήτηση στους GNNs, επιστρέφοντας πλησιέστερους γείτονες.
   - `freeGNNS`: Απελευθερώνει τους πόρους που δεσμεύονται από τους GNNs.

#### /search/gnns/gnns.c
Υλοποιεί τις λειτουργίες των GNNs.

1. **Εισαγωγή Εξαρτήσεων και Ορισμών**: Εισάγει τις απαραίτητες βιβλιοθήκες και το αρχείο header των GNNs.
2. **Συναρτήσεις**: 
   - `initGNNS`: Δημιουργεί τη δομή των GNNs και αρχικοποιεί το k-NN γράφο.
   - `queryGNNS`: Αναζητά τους πλησιέστερους γείτονες για ένα δεδομένο διάνυσμα ερωτήματος.
   - `freeGNNS`: Καθαρίζει και απελευθερώνει τη μνήμη που δεσμεύεται από τους GNNs.
   - `getNeighbors`: Επιστρέφει τους γείτονες ενός κόμβου από τον k-NN γράφο.
   - `findClosestNeighbor`: Εύρεση του πλησιέστερου γείτονα σε μια λίστα.
   - `isInList`: Ελέγχει εάν ένα διάνυσμα υπάρχει σε μια λίστα.
   - `isLocalOptimum`: Καθορίζει εάν ένας κόμβος είναι τοπικό βέλτιστο.
   - `truncateListToN`: Περιορίζει μια λίστα σε N στοιχεία.

### Εργασία 2 - Ερώτημα Β:

#### /search/mrng/mrng.h
Αρχείο κεφαλίδας για την ενότητα MRNG.

1. **Δομές**: Περιγραφή των δομών `MRNG` και `MRNGNode`, όπου κάθε κόμβος αντιπροσωπεύει ένα διάνυσμα και τους γείτονές του.
2. **Συναρτήσεις**: 
   - `initMRNG`: Αρχικοποιεί το MRNG βασισμένο σε ένα σύνολο δεδομένων και LSH παραμέτρους.
   - `queryMRNG`: Αναζητά τους πλησιέστερους γείτονες με βάση ένα διάνυσμα ερωτήματος.
   - `freeMRNG`: Απελευθερώνει τους πόρους που δεσμεύονται από το MRNG.

#### /search/mrng/mrng.c
Υλοποιεί τις λειτουργίες του MRNG.

1. **Εισαγωγή Εξαρτήσεων και Ορισμών**: Εισάγει τις απαραίτητες βιβλιοθήκες και το αρχείο header του MRNG.
2. **Συναρτήσεις**: 
   - `initMRNG`: Δημιουργεί τη δομή MRNG και αρχικοποιεί τους κόμβους της.
   - `queryMRNG`: Εκτελεί αναζήτηση στο MRNG για πλησιέστερους γείτονες.
   - `freeMRNG`: Καθαρίζει και απελευθερώνει τη μνήμη που δεσμεύεται από το MRNG.
   - `createDatasetArray`: Δημιουργεί έναν πίνακα διανυσμάτων από μια λίστα.
   - `copyList`: Δημιουργεί αντίγραφο μιας λίστας.
   - `sortCandidates`: Ταξινομεί υποψήφιους γείτονες βάσει απόστασης.
   - `vectorExistsInList`: Ελέγχει εάν ένα διάνυσμα υπάρχει σε λίστα.
   - `getMRNGNode`: Εύρεση ενός κόμβου MRNG βάσει διανύσματος.
   - `findInitialNode`: Εύρεση του αρχικού κόμβου για ερώτημα στο MRNG.
   - `sortMRNGNeighborsByDistance`: Ταξινομεί τους γείτονες ενός κόμβου του MRNG με βάση την απόσταση.

### Οδηγίες compile

Για compile, χρησιμοποιούμε το παρεχόμενο Makefile:

```bash
$ make
```

Αυτό θα παράγει δύο εκτελέσιμα αρχεία: `lsh`, `cube` και `cluster`..

### Χρήση του προγράμματος για το Ερώτημα Α της Εργασίας 1

#### Εκτέλεση

**LSH:**

Με User Prompts  + προεπιλεγμένες τιμές παραμέτρων:
```bash
$ ./lsh
```
Εντολή μίας γραμμής + προαιρετικές προσαρμοσμένες παράμετροι. (Εάν οι διαδρομές δεν εισαχθούν απευθείας, ο χρήστης θα ερωτηθεί)
```bash
$ ./lsh -d <input file> -q <query file> -k <int> -L <int> -o <output file> -N <number of nearest> -R <radius>
```

**Hypercube:**

Με User Prompts  + προεπιλεγμένες τιμές παραμέτρων:
```bash
$ ./cube
```
Εντολή μίας γραμμής + προαιρετικές προσαρμοσμένες παράμετροι. (Εάν οι διαδρομές δεν εισαχθούν απευθείας, ο χρήστης θα ερωτηθεί)
```bash
$ ./cube -d <input file> -q <query file> -k <int> -M <int> -probes <int> -o <output file> -N <number of nearest> -R <radius>
```

#### Χαρακτηριστικά Part A

1. Ο κώδικας είναι καλά σχολιασμένος και έχει αποσφαλματωθεί αυστηρά με εργαλεία όπως το Valgrind για να διασφαλιστεί ότι δεν υπάρχουν memory leaks.
2. Υπάρχει ένας ενσωματωμένος μηχανισμός για τη μετατροπή αρχείων `.idx3-ubyte` (από το σύνολο δεδομένων MNIST) σε αρχεία `.dat`, κατάλληλα τόσο για αναζήτηση όσο και για qury sets.
3. Το πρόγραμμα παρέχει ευελιξία στην εισαγωγή των paths των συνόλων δεδομένων. Μπορείτε να καθορίσετε τη διαδρομή σε διάφορες μορφές (**στην απευθείας είσοδο arguments με μία εντολή πρέπει να εισαχθούν ολόκληρα τα path**): π.χ. `data/query`, `data/query.dat` ή `data/tr10k-set.idx3-ubyte` ή απλώς 'data/' αν το αρχείο input.dat ή query.dat βρίσκεται στον φάκελο data/
4. Το πρόγραμμα μπορεί να επιλέξει αυτόματα 1 έως 10 τυχαίες εικόνες από το δεδομένο MNIST training set για το query set, εάν έχει επιλεγεί ένα αρχείο .idx3-ubyte για το query.
5. Η δομή του κώδικα είναι αρθρωτή και επιτρέπει εύκολες επεκτάσεις, όπως η ενσωμάτωση διαφορετικών μετρικών απόστασης όπως η p-norm ή άλλων διανυσματικών χώρων.
6. Progress bar

### Σημειώσεις

- Βεβαιωθείτε ότι έχετε τα απαιτούμενα δεδομένα εισόδου στις αναφερόμενες μορφές για την επιτυχή εκτέλεση.
- Η έξοδος εγγράφεται στο καθορισμένο αρχείο εξόδου (output) στην ζητούμενη μορφή.

### Χρήση του προγράμματος για το Ερώτημα Β της Εργασίας 1

**Clustering:**

Μέθοδοι: Classic, LSH, Hypercube

Εντολή μίας γραμμής:
```bash
$ ./cluster -i <input file> -c <configuration file> -o <output file> -m <method> [-complete]
```
Παράμετροι:
- `-i <input file>`: Διαδρομή προς το αρχείο εισόδου.
- `-c <configuration file>`: Διαδρομή προς το αρχείο ρυθμίσεων.
- `-o <output file>`: Διαδρομή προς το αρχείο εξόδου.
- `-m <method>`: Μέθοδος clustering (`Classic`, `LSH`, `Hypercube`).
- `-complete`: Επιλογή για εκτεταμένη έξοδο.

#### Χαρακτηριστικά Part B

1. Υποστήριξη τριών μεθόδων clustering: Classic, LSH, και Hypercube.
2. Αρχικοποίηση κέντρων με τη μέθοδο KMeans++.
3. Ενημέρωση κέντρων με τη μέθοδο MacQueen.
4. Υπολογισμός του Silhouette score για αξιολόγηση του clustering.
5. Επιλογή για πλήρη έξοδο με την παράμετρο `-complete`.
6. Progress bar
7. Αποδοτική διαχείριση μνήμης και ενσωματωμένοι μηχανισμοί για αποφυγή memory leaks.

### Χρήση του προγράμματος για το Ερώτημα Α και το Ερώτημα Β της Εργασίας 2

***GNNS και MRNG***

Εντολή μίας γραμμής:
```bash
$ ./graph_search -d <input file> -q <query file> -o <output file> -m <method> -k <int> -E <int> -R <double for GNNS R> -N <int> -l <int>
```
Παράμετροι:
- `-d <input file>`: Διαδρομή προς το αρχείο εισόδου που περιέχει το σύνολο δεδομένων.
- `-q <query file>`: Διαδρομή προς το αρχείο ερωτημάτων για την αναζήτηση.
- `-k <int>`: Ακέραιος αριθμός που καθορίζει τον αριθμό των πλησιέστερων γειτόνων στο γράφο k-NN (προεπιλογή: 50).
- `-E <int>`: Ακέραιος αριθμός που καθορίζει τον αριθμό των επεκτάσεων στο GNNS (προεπιλογή: 30).
- `-R <int>`: Ακέραιος αριθμός που καθορίζει τον αριθμό των τυχαίων επανεκκινήσεων στο GNNS (προεπιλογή: 1).
- `-N <int>`: Ακέραιος αριθμός που καθορίζει τον αριθμό των πλησιέστερων γειτόνων που θα επιστραφούν (προεπιλογή: 1).
- `-l <int>`: Ακέραιος αριθμός για τον προσδιορισμό του μεγέθους της λίστας υποψηφίων στο MRNG (προεπιλογή: 20, χρησιμοποιείται μόνο για MRNG).
- `-m <1 ή 2>`: Μέθοδος αναζήτησης (1 για GNNS, 2 για MRNG).
- `-o <output file>`: Διαδρομή προς το αρχείο εξόδου για τα αποτελέσματα της αναζήτησης.

### Σημειώσεις

- Βεβαιωθείτε ότι έχετε τα απαιτούμενα δεδομένα εισόδου στις αναφερόμενες μορφές για την επιτυχή εκτέλεση της επιλεγμένης μεθόδου clustering.
- Η έξοδος του clustering εγγράφεται στο καθορισμένο αρχείο εξόδου (output) στην ζητούμενη μορφή. Η επιλογή `-complete` παρέχει πιο λεπτομερή αναφορά των αποτελεσμάτων.
- **Στο partB.c, οι σταθερές `MAX_ITERATIONS`, `WINDOW_SIZE`, `N_N`, και `RADIUS_R` έχουν  τιμές 100, 0.5, 1, 10000**
- **Για βελτιστοποίηση της απόδοσης, αναλύει μόνο τα πρώτα 100 δεδομένα, καθώς ο πλήρης υπολογισμός μπορεί να είναι πολύ αργός. Για να αλλάξει, στο silhouette.c αλλάζουμε το testLimit =100 σε testLimit =totalNodes**


**Σας ευχαριστούμε!**

